{{template "base" .}}
{{define "content"}}
    <h2>Contacts Page</h2>
    <form hx-post="/apix/contacts" hx-target="#contactResults" hx-swap="innerHTML" hx-trigger="load">
        <label for="q">Search Term</label>
        <input id="q" type="search" name="q" value="{{ .StringMap.q}}"/>
        <button hx-post="/apix/contacts" hx-target="#contactResults" hx-swap="innerHTML">Search</button>
        <table>
            <thead>
            <tr>
                <th>First</th> <th>Last</th> <th>Phone</th> <th>Email</th> <th>Action</th>
            </tr>
            </thead>
            <!-- Do not boost dynamic content rendered by form on load-->
            <tbody id="contactResults" hx-boost="false">
            <!-- HTMX snippet will load here -->
            </tbody>
        </table>
        <p>
            <a href="/contacts/new">Add Contact</a>
        </p>
    </form>
{{end}}